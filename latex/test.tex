\title{A Very Simple \LaTeXe{} Template}
\author{
        Vitaly Surazhsky \\
                Department of Computer Science\\
        Technion---Israel Institute of Technology\\
        Technion City, Haifa 32000, \underline{Israel}
            \and
        Yossi Gil\\
        Department of Computer Science\\
        Technion---Israel Institute of Technology\\
        Technion City, Haifa 32000, \underline{Israel}
}
\date{\today}

\documentclass[12pt]{article}

\usepackage{makeidx}
\makeindex

\include{pygments}
\include{listings}

\usepackage{amsmath}

%for images
\usepackage{graphicx}

\begin{document}
\maketitle

\section{python}\index{python}

\subsection{Testing}
\scriptsize
\input{testing}

\subsection{Profiling}
\input{profiling}

\subsection{string}\index{python!string}

\subsubsection{String Substitution}\index{python!string!Substitution}

\input{string_substitution}

\subsubsection{split}\index{python!string!split}
\input{split}

\subsection{hash}\index{python!hash}

\subsubsection{get}\index{python!hash!get}

Does not generate a \emph{KeyError} when referencing a key that does not exist in the hash, unlike using the sqare brackets.

\input{hash_get}

\subsection{itertools}\index{itertools}

\subsubsection{permutations}
\input{permutations}

\subsection{Generator Expressions}\index{Generator Expressions}

\begin{list}{*}{
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\topsep}{0pt}
\setlength{\partopsep}{0pt}
\setlength{\leftmargin}{2em}
\setlength{\labelwidth}{1.5em}
\setlength{\labelsep}{0.5em}
}
\item less indentation, compared to nested for-loops
\item stop early, compared to a list comprehension that has to do all the work
\item easy to edit, easy to move around constraints without having to worry about getting the indentation right
\end{list}

\input{generator_expressions}

\subsection{Generator Functions}\index{Generator Functions}

Allows us to deal with infinite sequences.

\input{generator_functions}

\subsection{The Law of Diminishing Returns}

\subsection{for-loops}
\input{forloop}

\subsection{Substring}
\input{substring}

\subsection{Benchmarking}
\input{benchmarking}

\subsection{Translation Table}
\input{translation_table}

\subsection{Future Imports}\index{python!Future Imports}

In python 2.x, you can do integer division. In python 3, integer division returns a float. If you want this kind of behaviour in python 2.x, do

\input{future_imports}

\subsection{Regular Expressions}\index{Regular Expressions}
The module to import in python is called re. A regular expression is written

\subsubsection{findall}\index{Regular Expressions!findall}
\input{findall}

where the \emph{r} actually means \emph{raw string} instead of \emph{regular expression}. The + and * operators are called \emph{Kleene Operators}\index{Regular Expressions!Kleene Operators} after Stephen C. Kleene.

\subsubsection{search}\index{Regular Expressions!search}
\input{search}

\begin{tabular}{r | l}
	\textbackslash b & word boundary \\
	* & Kleene Operator \\
	+ & Kleene Operator
\end{tabular}

\subsubsection{split}\index{Regular Expressions!split}
\input{re_split}

\subsection{sub}\index{Regular Expressions!sub}
\input{re_sub}

\section{Some Other Section}

\subsection*{Finite State Machine (FSM)}\index{Finite State Machine}
A visual representation or a pictorial equivalent to regular expressions. A \textbf{non-deterministic FSM}\index{Finite State Machine!non-deterministic FSM} includes epsilon transitions or ambiguity. 
A \textbf{deterministic FSM}/\textbf{lock-step FSM}\index{Finite State Machine!deterministic FSM} includes  epsilon edges or ambiguity. However, every non-deterministic FSM has a corresponding deterministic FSM that accepts exaclty the same strings. Non-deterministic FSMs are not more powerful, they are just more convenient.

\subsection{Aspect-oriented Programming}
Separate debugging/efficiency statements and the correctness program.

\subsection*{Server}
A server is a machine optimized for sitting in a closet and hosting files.

\section{Hyper Text Markup Language (HTML)}\index{HTML}

Invented by Tim Berners-Lee around 1990 and credited with inventint the world-wide web.

Use the tags \emph{strong}\index{HTML!strong} and \emph{em}\index{HTML!em} when the contents of your page requires that certain words or phrases be stressed. If you are only highlighting for visual effect use the tags \emph{b}\index{HTML!b} and \emph{i}\index{HTML!i}.

\subsection{HTTP Request}\index{HTML!Request}

\subsubsection{GET Request}\index{HTML!Request!GET}

GET requests are often used for fetching documents and GET parameters are usually used to describe which document we are looking for or what page we are on, etc. They are included in the URL and are ok to cache, should not be used to change the server and are affected by the maximum URL length.
GET request: GET /foo HTTP/1.1

\subsubsection{POST Request}\index{HTML!Request!POST}

POST parameters are included in the request body, have no max length and are often used for updating data. They are almost never cached.

\subsection{HTTP Response}\index{HTTP Response}
A response can be static\index{HTTP Response!static}, which is a pre-written file or dynamic\index{HTTP Response!dynamic}, which is a page made on the fly by programs called web applications\index{HTTP Response!web application}.

\begin{list}{*}{
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\topsep}{0pt}
\setlength{\partopsep}{0pt}
\setlength{\leftmargin}{2em}
\setlength{\labelwidth}{1.5em}
\setlength{\labelsep}{0.5em}
}
\item Response: HTTP/1.1 200 OK
\item Date: Tue Mar 2012 04:33:33 GMT
\item Server: Apache /2.2.3 - Similar to User-Agent header on the request. Best to make this up, otherwise you're just giving away free information to a would be hacker that want to know what vulnerability that works against you.
\item Content-Type: text/html; charset=utf-8
\item Content-Length: 1539
\end{list}

\subsubsection*{Status Codes}
200 OK
302 Found - The document is located somewhere else
404 Not Found
500 Server Error - The server broke trying to handle your request

\subsubsection*{HTML Header}\index{HTML!HTML Header}
Valid headers, such as \emph{User-Agent}\index{HTML!HTML Header!User-Agent}, \emph{Host}\index{HTML!HTML Header!Host}, but really, you can make up all the headers you want.

Use the \emph{$<$br /$>$}\index{HTML!br} tag instead of \emph{$<$br$>$} for an inline line break, but the \emph{p} tag to make a block.

Use the \emph{span}\index{HTML!span} for an inline container, which content can be styled, and \emph{div}\index{HTML!div} for a block container.

If your browser crashes, you should quit using Internet Explorer.

\section*{Cryptography}

\subsection*{Shannon's Keyspace Theorem}
\label{sec:shannon's_keyspace_theorem}

\subsection*{Monoalphabetic Substitution Cipher}\index{Monoalphabetic Substitution Ciper}

Each letter in the alphabet is mapped to a substitution letter.

\textbf{CT only attack}. "E" is the most common letter in the English language (appears about 12.7\% of the time), which will appear as the most frequent coded letter in the cipher. Next is "T" (9.1\%), "A" (8.1\%), etc. Next step is to study frequency of pairs of letters: "he", "an", "in", etc.

One way to prove that the cipher is imperfect, is to use \emph{Shannon's Keyspace Theorem}\ref{sec:shannon's_keyspace_theorem}. Assume a 26-letter alphabet,

\begin{equation}
|K| < |M|, 26! < 2^{89}, 26! < 26^{19}.
\end{equation}

Another way to prove the cipher's imperfection is by showing a ciphertext \emph{c} that could not decrypt to a message \emph{m} for any key \emph{k},

\begin{equation}
c = \mathsf{aa}, m = \mathsf{cs}
\end{equation}

\subsection*{Randomness}
\textbf{Kolmogorov Complexity}\index{Kolmogorov Complexity}.
$K(s) = $length of the shortest possible description of s [Andrey Kolmogorov (1903-1987)]. If there isn't any short program that can describe the sequence, that's an indication that the sequence is random, e.i, \emph{s} is random if $K(s) = |s| + C$. There's no simplier way to understand the sequence other than to see the whole sequence. However, the Kolmogorov Complexity is \textbf{uncomputable}.

\textbf{Statistical Tests} - can only show non-randomness. We can always find some non-random sequence that satisfies all of our statistical tests.

\textbf{Physically Random Events}\begin{list}{*}{
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\topsep}{0pt}
\setlength{\partopsep}{0pt}
\setlength{\leftmargin}{2em}
\setlength{\labelwidth}{1.5em}
\setlength{\labelsep}{0.5em}
}
\item Quantum Mechanics
\item Thermal Noise
\item User key presses/mouse movements (?)
\end{list}

\textbf{Pseudo-Random Number Generator (PRNG)}\index{Pseudo-Random Number Generator} takes a small amount of physical randomness and turn them into a long sequence of apparently "random" bits. This can be done by extracting a seed once from a \emph{random pool} and reusing it in every step, encrypting a sequence of values (which can be a counter).

Does this produce a sequence that appears random? No, it repeats values too infrequently, why the key is changed every few million outputs. Another concern is whether the pool of randomness is good enough. On unix machines, this pool is stored in \emph{/dev/random} and is collecting events that are believed to be random, like user interactions. A popular PRNG is \emph{Fortuna}.

\subsection{Secret Sharing}

Share a 100-bit long secret among 4 people requires 300 key bits.
\begin{equation}
\begin{split}
A: m \oplus k_1 \oplus k_2 \oplus k_3 \\
B: k_1 \\
C: k_2 \\
D: k_3
\end{split}
\end{equation}
 
\subsection*{Cipher Block Chaning (CBC) Mode}\index{CBC Mode}

Assuming \emph{E} has perfect secrecy (impossible since $|K| \ge |M|$), an attacker can still learn the length of the message and which blocks in \emph{m} are equal from a captured \emph{c}, where

\begin{equation}
c_i = E_k(m_i)
\end{equation}

With CBC, 

\begin{equation}
\begin{split}
c_0 = E_k(m_0 \oplus IV) \\
c_i = E_k(m_i \oplus c_{i-1})
\end{split}
\end{equation}

where the initial message block is xor:ed with an initialization vector, \emph{IV}, which should not be repeated. The point with the initialization vector is just to hide repetition in the first block. Being lost, the whole message can still be recovered, except for the very first block.

\begin{equation}
\begin{split}
m_0 = D_k(c_0) \oplus IV \\
m_{n-i} = D_k(c_{n-1}) \oplus c_{n-2}
\end{split}
\end{equation}

\begin{list}{*}{
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\topsep}{0pt}
\setlength{\partopsep}{0pt}
\setlength{\leftmargin}{2em}
\setlength{\labelwidth}{1.5em}
\setlength{\labelsep}{0.5em}
}
\item Requires the encryption function to be invertable
\item Does not need the IV to be kept secret, used like another cipher text block. Important is just to not reuse the IV
\item Does not provide any protection against tampering
\item The final cipher text block depends on all message blocks
\end{list}

\subsection{Lexical Analysis}

Break something down into words. A \emph{token} is the smallest unit of lexical analysis output.

\begin{tabular}{r | l}
	LANGLE & $<$ \\
	LANGLESLASH & $<$\slash \\
	RANLGE & $>$ \\
	EQUAL & = \\
	STRING & "google.com" \\
	WORD & Welcome!
\end{tabular}

A \emph{Lexical Analyzer} or \emph{lexer} is a collection of token definitions, with the first listed is the winner.

\input{tokens}

A state can be either \emph{exclusive} or \emph{inclusive}.

\input{token_states}

\subsection{JavaScript}\index{JavaScript}

\emph{Identifier} are \emph{variable} names or \emph{function} names.

\input{factorial}
\input{token_eolcomment}
\input{token_identifier}

\subsection*{Counter (CTR) Mode}\index{CTR Mode}

The IV is usually devided into a \emph{nonce} and the counter in 64-blocks each (for AES).

\begin{equation}
\begin{split}
c_i = E_k(\textsf{nonce}||i) \oplus m_i \\
m_i = c_i \oplus E_k(\textsf{nonce}||i)
\end{split}
\end{equation}

\begin{list}{*}{
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\topsep}{0pt}
\setlength{\partopsep}{0pt}
\setlength{\leftmargin}{2em}
\setlength{\labelwidth}{1.5em}
\setlength{\labelsep}{0.5em}
}
\item The encryption function does not need to be invertable
\item The cipher text is a little longer than the message
\item If you encrypt the samme message twice, you will get different ciphertexts
\item Parallelizable (unlike CBC). The encryption function does not depend on the message and can be computed in advance. if you have 3 AES engines encryption will work 3 times as fast
\item Does not need padding
\item In every single aspect CTR Mode dominates CBC and is the recommended mode to be used today
\end{list}

\subsection*{Cipher Feedback (CFB) Mode}

Uses an additional parameter $s < n$, which is the size of the message block that is less than the normal block size of the cipher.

\begin{equation}
\begin{split}
x_0 = IV \\
x_i = x_{i-1}[s:]||c_{i-1} \\
c_i = E_k(x_i)[:s] \oplus m_i
\end{split}
\end{equation}

Decryption

\begin{equation}
\begin{split}
m_i = c_i \oplus E_k(x_i)[:s] \\
x_i = x_{i-1}[s:]||c_i \\
x_0 = IV
\end{split}
\end{equation}

\begin{list}{*}{
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\setlength{\topsep}{0pt}
\setlength{\partopsep}{0pt}
\setlength{\leftmargin}{2em}
\setlength{\labelwidth}{1.5em}
\setlength{\labelsep}{0.5em}
}
\item Does not require the encryption function to be invertable
\item Does not need the IV to be kept secret, used like another cipher text block. Important is just to not reuse the IV.
\item Can use small message blocks, by only encrypt the message in chunks of size s. Turns the block cipher into a stream cipher
\item Does not provide any protection against tampering
\item The final cipher text block depends on all message blocks
\end{list}

%\includegraphics[scale=1]{cbc.eps}
 
\paragraph{Outline}
The remainder of this article is organized as follows.
Section~\ref{previous work} gives account of previous work.
Our new and exciting results are described in Section~\ref{results}.
Finally, Section~\ref{conclusions} gives the conclusions.

\section{Google App Engine}\index{Google App Engine}

\subsection{Handlers}\index{Google App Engine!Handlers}

\input{handler}

\subsection{Forms}\index{Google App Engine!Forms}

\input{engine_validations}

User input need to be esacped.

\input{engine_escape_html}

\subsubsection{Redirection}\index{Google App Engine!Forms!Redirection}

With redirection one can reload the page without having resubmitting a form. It's also good practice to have distinct pages for forms and successes.



\bibliographystyle{abbrv}
\bibliography{main}

\printindex

\end{document}
